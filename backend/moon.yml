# Backend project configuration
$schema: "https://moonrepo.dev/schemas/project.json"

# Project metadata
id: "backend"
type: "application"

# Tasks
tasks:
  dev:
    command: "python main.py"
    env:
      PYTHONPATH: "."
    inputs:
      - "**/*.py"
      - "requirements.txt"
    platform: "system"

  install:
    command: "pip install -r requirements.txt"
    inputs:
      - "requirements.txt"
    platform: "system"

  test:
    command: "python -m pytest tests/"
    inputs:
      - "**/*.py"
      - "tests/**/*"
    platform: "system"

  lint:
    command: "python -m flake8 ."
    inputs:
      - "**/*.py"
    platform: "system"

  init-db:
    command: "python init_db.py"
    inputs:
      - "**/*.py"
    platform: "system"

  view-db:
    command: "python view_db.py"
    inputs:
      - "**/*.py"
    platform: "system"
